var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,a,l)=>a in e?__defProp(e,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[a]=l,__spreadValues=(e,a)=>{for(var l in a||(a={}))__hasOwnProp.call(a,l)&&__defNormalProp(e,l,a[l]);if(__getOwnPropSymbols)for(var l of __getOwnPropSymbols(a))__propIsEnum.call(a,l)&&__defNormalProp(e,l,a[l]);return e},__publicField=(e,a,l)=>(__defNormalProp(e,"symbol"!=typeof a?a+"":a,l),l);!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports,require("vue3-normal-directive"),require("vue"),require("tinycolor2"),require("@aesoper/normal-utils"),require("lodash-es"),require("@popperjs/core"),require("vue3-storage"),require("@vueuse/core")):"function"==typeof define&&define.amd?define(["exports","vue3-normal-directive","vue","tinycolor2","@aesoper/normal-utils","lodash-es","@popperjs/core","vue3-storage","@vueuse/core"],a):a((e="undefined"!=typeof globalThis?globalThis:e||self).Vue3ColorPicker={},e.vue3NormalDirective,e.Vue,e.tinycolor,e.normalUtils,e.lodashEs,e.core$1,e.Vue3Storage,e.core)}(this,(function(e,a,l,t,o,r,u,n,s){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=i(t),v=i(n);class d{constructor(){__publicField(this,"instance",c.default("#000000"))}parseColor(e,a){(o.isDef(e)||o.isNull(e))&&(e="#000000"),e&&e.hsl?this.instance=c.default(e.hsl):e&&e.hex&&e.hex.length>0?this.instance=c.default(e.hex):e&&e.hex8&&e.hex8.length>0?this.instance=c.default(e.hex8):e&&e.hsv?this.instance=c.default(e.hsv):e&&e.rgba?this.instance=c.default(e.rgba):e&&e.rgb?this.instance=c.default(e.rgb):this.instance=c.default(e);const l=this.instance.toHsl(),t=this.instance.toHsv(),r=this.instance.toRgb();return 0===l.s&&(t.h=l.h=e.h||e.hsl&&e.hsl.h||a||0),0!==t.h&&0!==l.h||(t.h=l.h=e.h||a||e.oldHue||0),0===t.v&&(t.s=e.s&&e.s||e.hsv&&e.hsv.s||0),{hsl:{h:Math.round(l.h),s:Number(Math.round(100*l.s).toFixed(2))/100,l:Number(Math.round(100*l.l).toFixed(2))/100,a:Math.round(100*l.a)/100},hex:this.instance.toHexString().toUpperCase(),hex8:this.instance.toHex8String().toUpperCase(),rgb:{r:Math.round(r.r),g:Math.round(r.g),b:Math.round(r.b),a:Math.round(100*r.a)/100},hsv:{h:Math.round(t.h),s:Math.round(100*t.s)/100,v:Math.round(100*t.v)/100,a:Math.round(100*l.a)/100},oldHue:Math.round(e.h||a||l.h),source:e.source,alpha:Math.round(100*(e.a||this.instance.getAlpha()))/100}}format(e){return this.instance.toString(e)}}const h=r.debounce((e=>{e()}),200,{leading:!0,trailing:!1}),p="colorList";var f=l.defineComponent({name:"Hue",props:{vertical:{type:Boolean,default:!1},size:{type:String,default:"default"},hue:{type:Number,default:0,validator:e=>e>=0&&e<=360}},emits:["update:hue","change"],setup(e,{emit:a}){const t=l.ref(null),r=l.ref(null),u=l.ref(0),n=l.ref(0),s=l.ref(e.hue),i=l.computed((()=>({background:e.vertical?"-webkit-linear-gradient(bottom, rgb(255, 0, 0) 0%, rgb(255, 255, 0) 16.66%, rgb(0, 255, 0) 33.33%, rgb(0, 255, 255) 50%, rgb(0, 0, 255) 66.66%, rgb(255, 0, 255) 83.33%, rgb(255, 0, 0) 100%)":"-webkit-linear-gradient(left, rgb(255, 0, 0) 0%, rgb(255, 255, 0) 16.66%, rgb(0, 255, 0) 33.33%, rgb(0, 255, 255) 50%, rgb(0, 0, 255) 66.66%, rgb(255, 0, 255) 83.33%, rgb(255, 0, 0) 100%)"}))),c=()=>{u.value=(()=>{var a;if(e.vertical)return 0;if(t.value&&r.value){const e=null==(a=t.value)?void 0:a.getBoundingClientRect();return 360===s.value?e.width-r.value.offsetWidth/2:s.value%360*(e.width-r.value.offsetWidth)/360+r.value.offsetWidth/2}return 0})(),n.value=(()=>{var a,l;if(!e.vertical)return 0;if(t.value&&r.value){const e=null==(a=t.value)?void 0:a.getBoundingClientRect();return 360===s.value?(null==(l=r.value)?void 0:l.offsetHeight)/2:(360-s.value%360)*(e.height-r.value.offsetHeight)/360+r.value.offsetHeight/2}return 0})()},v=l=>{var o,u;if(t.value&&r.value){const n=null==(o=t.value)?void 0:o.getBoundingClientRect();if(e.vertical){let e=l.clientY-n.top;e=Math.min(e,n.height-(null==(u=r.value)?void 0:u.offsetHeight)/2),e=Math.max(r.value.offsetHeight/2,e),s.value=Math.round((e-r.value.offsetHeight/2)/(n.height-r.value.offsetHeight)*360)}else{let e=l.clientX-n.left;e=Math.min(e,n.width-r.value.offsetWidth/2),e=Math.max(r.value.offsetWidth/2,e),s.value=Math.round((e-r.value.offsetWidth/2)/(n.width-r.value.offsetWidth)*360)}a("update:hue",s.value),a("change",s.value)}},d=e=>{e.target!==r.value&&v(e)};return l.watch((()=>e.hue),(e=>{s.value=e})),l.watch((()=>s.value),(()=>{c()})),l.onMounted((()=>{l.nextTick((()=>{const e={drag:e=>{v(e)},end:e=>{v(e)}};t.value&&r.value&&(o.DOMUtils.triggerDragEvent(t.value,e),o.DOMUtils.triggerDragEvent(r.value,e)),c()}))})),()=>{const a=["bee-hue-colorPicker","transparent",{"is-vertical":e.vertical,"small-hue-slider":"small"===e.size&&!e.vertical}];return l.createVNode("div",{class:a,onClick:d},[l.createVNode("div",{class:"bee-hue-colorPicker__inner",ref:t,style:i.value},[l.createVNode("div",{class:["bee-hue-colorPicker__inner-pointer",{"small-bar":"small"===e.size&&!e.vertical}],ref:r,style:{left:u.value+"px",top:n.value+"px"}},[l.createVNode("div",{class:["bee-hue-colorPicker__inner-handle",{vertical:e.vertical}]},null)])])])}}});const g=[["#fcc02e","#f67c01","#e64a19","#d81b43","#8e24aa","#512da7","#1f87e8","#008781","#05a045"],["#fed835","#fb8c00","#f5511e","#eb1d4e","#9c28b1","#5d35b0","#2097f3","#029688","#4cb050"],["#ffeb3c","#ffa727","#fe5722","#eb4165","#aa47bc","#673bb7","#42a5f6","#26a59a","#83c683"],["#fff176","#ffb74e","#ff8a66","#f1627e","#b968c7","#7986cc","#64b5f6","#80cbc4","#a5d6a7"],["#fff59c","#ffcc80","#ffab91","#fb879e","#cf93d9","#9ea8db","#90caf8","#b2dfdc","#c8e6ca"],["transparent","#ffffff","#dedede","#a9a9a9","#4b4b4b","#353535","#212121","#000000","advance"]];var b=l.defineComponent({name:"Compact",props:{palette:{type:Array,default:()=>g}},emits:["change"],setup(e,{emit:a}){const t=e=>e.map((e=>{const t=["bee-compact__color_cube",{advance:"advance"===e,transparent:"transparent"===e}];return l.createVNode("div",{class:"bee-compact__color-cube--wrap"},[l.createVNode("div",{class:t,style:(o=e,"transparent"===o?o:"advance"===o?{}:{background:c.default(o).toRgbString()}),onClick:()=>(e=>{a("change",e)})(e)},null)]);var o}));return()=>{return l.createVNode("div",{class:"bee-compact"},[null==(a=e.palette)?void 0:a.map((e=>l.createVNode("div",{class:"bee-compact__row"},[t(e)])))]);var a}}});const m=(e,a,l)=>a<l?e<a?a:e>l?l:e:e<l?l:e>a?a:e;var y=l.defineComponent({name:"Saturation",props:{hue:{type:Number,default:0,validator:e=>e>=0&&e<=360},saturation:{type:Number,default:0,validator:e=>e>=0&&e<=1},value:{type:Number,default:0,validator:e=>e>=0&&e<=1},round:Boolean,hidden:Boolean},emits:["update:saturation","update:value","change"],setup(e,{emit:a}){const t=l.getCurrentInstance(),r=l.ref(0),u=l.ref(0),n=l.ref("hsl("+e.hue+", 100%, 50%)"),s=l.reactive({h:e.hue,s:e.saturation,v:e.value}),i=()=>{if(t){const e=t.vnode.el;u.value=s.s*(null==e?void 0:e.clientWidth),r.value=(1-s.v)*(null==e?void 0:e.clientHeight)}},c=e=>{if(t){const l=t.vnode.el,o=null==l?void 0:l.getBoundingClientRect();let n=e.clientX-o.left,i=e.clientY-o.top;n=m(n,0,o.width),i=m(i,0,o.height);const c=Math.round(n/o.width*100)/100,v=Math.round(100*m(-i/o.height+1,0,1))/100;u.value=n,r.value=i,s.s=c,s.v=v,a("update:saturation",c),a("update:value",v),a("change",c,v)}};return l.onMounted((()=>{t&&t.vnode.el&&(o.DOMUtils.triggerDragEvent(t.vnode.el,{drag:e=>{c(e)},end:e=>{c(e)}}),i())})),l.watch((()=>e.hue),(e=>{s.h=e,n.value="hsl("+Math.round(s.h)+", 100%, 50%)"})),l.watch((()=>e.value),(e=>{s.v=e,i()})),l.watch((()=>e.saturation),(e=>{s.s=e,i()})),()=>{const a=["bee-saturation",{"bee-saturation__chrome":e.round,"bee-saturation__hidden":e.hidden}];return l.createVNode("div",{class:a,style:{backgroundColor:n.value}},[l.createVNode("div",{class:"bee-saturation__white"},null),l.createVNode("div",{class:"bee-saturation__black"},null),l.createVNode("div",{class:"bee-saturation__cursor",style:{top:r.value+"px",left:u.value+"px"},onClick:c},[l.createVNode("div",null,null)])])}}}),V=l.defineComponent({name:"Alpha",props:{color:{type:String,default:"#000000"},vertical:{type:Boolean,default:!1},size:{type:String,default:"default"},alpha:{type:Number,default:1,validator:e=>e>=0&&e<=1}},emits:["update:alpha","change"],setup(e,{emit:a}){const t=l.ref(null),r=l.ref(null),u=l.ref(0),n=l.ref(0),s=l.ref(e.alpha),i=l.computed((()=>{const a=c.default(e.color).setAlpha(1).toRgbString(),l=c.default(e.color).setAlpha(0).toRgbString();let t="right";return e.vertical&&(t="bottom"),{background:`linear-gradient(to ${t}, ${l}, ${a}`}})),v=()=>{u.value=(()=>{var a,l,o;if(e.vertical)return 0;if(t.value&&r.value){const e=s.value,u=null==(a=t.value)?void 0:a.getBoundingClientRect();return Math.round(e*(u.width-(null==(l=r.value)?void 0:l.offsetWidth))+(null==(o=r.value)?void 0:o.offsetWidth)/2)}return 0})(),n.value=(()=>{var a;if(!e.vertical)return 0;if(t.value&&r.value){const e=s.value,l=null==(a=t.value)?void 0:a.getBoundingClientRect();return Math.round(e*(l.height-r.value.offsetHeight)+r.value.offsetHeight/2)}return 0})()},d=l=>{var o;if(l.stopPropagation(),t.value&&r.value){const u=null==(o=t.value)?void 0:o.getBoundingClientRect();if(e.vertical){let e=l.clientY-u.top;e=Math.max(r.value.offsetHeight/2,e),e=Math.min(e,u.height-r.value.offsetHeight/2),s.value=1-Math.round((e-r.value.offsetHeight/2)/(u.height-r.value.offsetHeight)*100)/100}else{let e=l.clientX-u.left;e=Math.max(r.value.offsetWidth/2,e),e=Math.min(e,u.width-r.value.offsetWidth/2),s.value=Math.round((e-r.value.offsetWidth/2)/(u.width-r.value.offsetWidth)*100)/100}a("update:alpha",s.value),a("change",s.value)}},h=e=>{e.target!==t.value&&d(e)};return l.watch((()=>e.alpha),(()=>{s.value=e.alpha})),l.watch((()=>s.value),(()=>{v()})),l.onMounted((()=>{l.nextTick((()=>{const e={drag:e=>{d(e)},end:e=>{d(e)}};t.value&&r.value&&(o.DOMUtils.triggerDragEvent(t.value,e),o.DOMUtils.triggerDragEvent(t.value,e))})),v()})),()=>{const a=["bee-alpha-slider","transparent",{"is-vertical":e.vertical,"small-alpha-slider":"small"===e.size&&!e.vertical}];return l.createVNode("div",{class:a},[l.createVNode("div",{class:"bee-alpha-slider__bar",ref:t,style:i.value,onClick:h},[l.createVNode("div",{class:["bee-alpha-slider__bar-pointer",{"small-bar":"small"===e.size&&!e.vertical}],ref:r,style:{left:u.value+"px",top:n.value+"px"}},[l.createVNode("div",{class:["bee-alpha-slider__bar-handle",{vertical:e.vertical}]},null)])])])}}}),N=l.defineComponent({name:"Light",props:{vertical:{type:Boolean,default:!1},size:{type:String,default:"default"},light:{type:Number,default:0,validator:e=>e>=0&&e<=100},hue:{type:Number,default:0,validator:e=>e>=0&&e<=360},saturation:{type:Number,default:0,validator:e=>e>=0&&e<=100}},emits:["update:light","change"],setup(e,{emit:a}){const t=l.ref(null),r=l.ref(null),u=l.ref(0),n=l.ref(0),s=l.ref(e.light),i=l.computed((()=>{const a=c.default({h:e.hue,s:e.saturation,l:.8}).toPercentageRgbString(),l=c.default({h:e.hue,s:e.saturation/100,l:.6}).toPercentageRgbString(),t=c.default({h:e.hue,s:e.saturation/100,l:.4}).toPercentageRgbString(),o=c.default({h:e.hue,s:e.saturation/100,l:.2}).toPercentageRgbString();let r="left";return e.vertical&&(r="top"),{background:`-webkit-linear-gradient(${r}, rgb(255, 255, 255), ${a}, ${l}, ${t}, ${o}, rgb(0, 0, 0))`}})),v=()=>{u.value=(()=>{var a;if(e.vertical)return 0;if(t.value&&r.value)return(100-s.value)/100*((null==(a=t.value)?void 0:a.getBoundingClientRect()).width-r.value.offsetWidth)+r.value.offsetWidth/2;return 7})(),n.value=(()=>{var a,l,o;if(!e.vertical)return 0;if(t.value&&r.value)return(100-s.value)/100*((null==(a=t.value)?void 0:a.getBoundingClientRect()).height-(null==(l=r.value)?void 0:l.offsetHeight))+(null==(o=r.value)?void 0:o.offsetHeight)/2;return 0})()},d=l=>{var o,u;if(t.value&&r.value){const n=null==(o=t.value)?void 0:o.getBoundingClientRect();let i=s.value;if(e.vertical){let e=l.clientY-n.top;e=Math.max((null==(u=r.value)?void 0:u.offsetHeight)/2,e),e=Math.min(e,n.height-r.value.offsetHeight/2),i=Math.round((e-r.value.offsetHeight/2)/(n.height-r.value.offsetHeight)*100),s.value=i}else{let e=l.clientX-n.left;e=Math.max(r.value.offsetWidth/2,e),e=Math.min(e,n.width-r.value.offsetWidth/2),i=Math.round((e-r.value.offsetWidth/2)/(n.width-r.value.offsetWidth)*100),s.value=100-i}a("update:light",s.value),a("change",s.value)}},h=e=>{e.target!==r.value&&d(e)};return l.watch((()=>e.light),(e=>{s.value=e})),l.watch((()=>s.value),(()=>{v()})),l.onMounted((()=>{l.nextTick((()=>{const e={drag:e=>{d(e)},end:e=>{d(e)}};t.value&&r.value&&(o.DOMUtils.triggerDragEvent(t.value,e),o.DOMUtils.triggerDragEvent(r.value,e)),v()}))})),()=>{const a=["bee-light-colorPicker","transparent",{"is-vertical":e.vertical,"small-light-slider":"small"===e.size&&!e.vertical}];return l.createVNode("div",{class:a},[l.createVNode("div",{class:"bee-light-colorPicker__inner",ref:t,style:i.value,onClick:h},[l.createVNode("div",{class:["bee-light-colorPicker__inner-pointer",{"small-bar":"small"===e.size&&!e.vertical}],ref:r,style:{left:u.value+"px",top:n.value+"px"}},[l.createVNode("div",{class:["bee-light-colorPicker__inner-handle",{vertical:e.vertical}]},null)])])])}}}),C=l.defineComponent({name:"History",props:{colorList:{type:Array,default:()=>[]},round:{type:Boolean,default:!0}},emits:["change"],setup:(e,{emit:a})=>()=>{var t;return l.createVNode("div",{class:"bee-colorPicker__record"},[l.createVNode("div",{class:"color-list"},[null==(t=e.colorList)?void 0:t.map((t=>l.createVNode("div",{class:["color-item","transparent",{"color-item__round":e.round}],onClick:()=>{a("change",t)}},[l.createVNode("div",{class:"color-item__display",style:{backgroundColor:t}},null)])))])])}});var x=l.defineComponent({name:"FkColorPicker",props:{color:{type:[String,Object],default:"#000000"},format:{type:String},disableAlpha:Boolean,disableLight:Boolean,disableHue:Boolean,disableHistory:Boolean,disableClipboard:Boolean,displayCurrentColor:{type:Boolean,default:!0},historyRound:Boolean,copyBtnText:{type:String,default:"复制"},backBtnText:{type:String,default:"返回"}},emits:["update:color","change"],setup(e,{emit:a}){const t=new d,o=l.ref(t.parseColor(e.color)),r=l.ref(o.value.oldHue),u=l.ref(!1),i=n.useStorage(),c=l.ref([]),v=()=>{u.value=!1},g=()=>{c.value=c.value.filter((e=>e!==o.value.hex8)),c.value.length>=8&&c.value.shift(),c.value.push(o.value.hex8),i.setStorage({key:p,data:c.value})},m=()=>{c.value=i.getStorageSync(p)||[]},x=(e,a)=>{o.value=t.parseColor(e,a),h(g)},_=()=>{e.format?(a("update:color",t.format(e.format)),a("change",t.format(e.format))):(a("update:color",o.value),a("change",o.value))},k=e=>{"advance"===e?u.value=!0:(r.value=o.value.hsl.h,x(e),_())},w=e=>{x({h:o.value.hsl.h,s:o.value.hsl.s,l:e/100,a:o.value.hsl.a,source:"light"},o.value.hsl.h),_()},M=e=>{x({h:o.value.hsl.h,s:o.value.hsl.s,l:o.value.hsl.l,a:e,source:"alpha"},o.value.hsl.h),_()},P=(e,a)=>{x({h:o.value.hsv.h,s:e,v:a,a:o.value.hsv.a,source:"saturation"},o.value.hsv.h),_()},B=e=>{const{s:a,v:l,a:t}=o.value.hsv;x({h:e,s:a,v:l,a:t,source:"hue"},e),_()},S=e=>{const a=e.target.value;x({hex:a}),_()};l.watch((()=>e.color),(e=>{x(l.toRaw(e)),m()})),l.onMounted((()=>{m()}));return()=>l.createVNode("div",{class:"bee-fk-colorPicker"},[l.createVNode("div",{class:"bee-fk-colorPicker__inner"},[u.value&&l.createVNode("div",{class:"bee-fk-colorPicker__header"},[l.createVNode("span",{style:"cursor: pointer",onClick:v},[l.createVNode("div",{class:"back"},null),l.createVNode("span",null,[e.backBtnText])])]),!u.value&&l.createVNode(b,{onChange:k},null),u.value&&l.createVNode(y,{saturation:o.value.hsv.s,hue:o.value.hsv.h,value:o.value.hsv.v,onChange:P},null),u.value&&!e.disableHue&&l.createVNode(f,{hue:o.value.hsv.h,onChange:B},null),!u.value&&!e.disableLight&&l.createVNode(N,{hue:o.value.hsl.h,light:100*o.value.hsl.l,saturation:100*o.value.hsl.s,onChange:w},null),!e.disableAlpha&&l.createVNode(V,{color:o.value.hex8,onChange:M,alpha:o.value.alpha},null),e.displayCurrentColor&&l.createVNode("div",{class:"bee-fk-colorPicker__display"},[l.createVNode("div",{class:"current-color transparent"},[l.createVNode("div",{class:"color-cube",style:{background:o.value.hex8}},null)]),l.createVNode("span",{class:"hexColor-prefix"},[l.createTextVNode("#")]),l.createVNode("input",{class:"hexColor-input",value:o.value.hex.replace("#",""),onBlur:S},null),!e.disableClipboard&&l.createVNode("div",{class:"action"},[l.createVNode("div",{class:"copy-btn",onClick:()=>(()=>{const{copy:e}=s.useClipboard({source:o.value.hex});e().then()})()},[e.copyBtnText])])]),!e.disableHistory&&c.value.length>0&&l.createVNode(C,{"color-list":c.value,round:e.historyRound,onChange:k},null)])])}});const _=["hex","hsl","rgb","hsv"];var k=l.defineComponent({name:"VColorInput",props:{color:{type:[String,Object],default:"#000000"}},emits:["update:color","change"],setup(e,{emit:a}){const t=new d,r=l.ref(_[1]),u=l.ref(t.parseColor(e.color)),n=()=>{const e=o.ArrayUtils.findIndex(_,(e=>e==r.value));r.value=_[(e+1)%_.length]};l.watch((()=>e.color),(e=>{u.value=t.parseColor(l.toRaw(e))}));const s=(e,l)=>{u.value=t.parseColor(e,l),a("update:color",u.value),a("change",u.value)},i=e=>{switch(e){case"hex":s({hex:u.value.hex,source:"hex"});break;case"hsl":s({hsl:u.value.hsl,source:"hsl"});break;case"rgb":s({rgb:u.value.rgb,source:"rgb"});break;case"hsv":s({hsv:u.value.hsv,source:"hsv"})}};return()=>l.createVNode("div",{class:"inputs-controls"},[l.createVNode("button",{class:"formatBtn",onClick:n},[r.value]),"hsv"===r.value&&l.createVNode("div",{class:"format-group"},[l.withDirectives(l.createVNode("input",{"onUpdate:modelValue":e=>u.value.hsv.h=e,type:"number",min:"0",max:"360",placeholder:"h",onBlur:()=>i("hsv")},null),[[l.vModelText,u.value.hsv.h]]),l.withDirectives(l.createVNode("input",{"onUpdate:modelValue":e=>u.value.hsv.s=e,type:"number",min:"0",max:"1",placeholder:"s",onBlur:()=>i("hsv")},null),[[l.vModelText,u.value.hsv.s]]),l.withDirectives(l.createVNode("input",{"onUpdate:modelValue":e=>u.value.hsv.v=e,type:"number",min:"0",max:"1",placeholder:"v",onBlur:()=>i("hsv")},null),[[l.vModelText,u.value.hsv.v]])]),"hsl"===r.value&&l.createVNode("div",{class:"format-group"},[l.withDirectives(l.createVNode("input",{"onUpdate:modelValue":e=>u.value.hsl.h=e,type:"number",min:"0",max:"360",placeholder:"h",onBlur:()=>i("hsl")},null),[[l.vModelText,u.value.hsl.h]]),l.withDirectives(l.createVNode("input",{"onUpdate:modelValue":e=>u.value.hsl.s=e,type:"number",min:"0",max:"1",placeholder:"s",onBlur:()=>i("hsl")},null),[[l.vModelText,u.value.hsl.s]]),l.withDirectives(l.createVNode("input",{"onUpdate:modelValue":e=>u.value.hsl.l=e,type:"number",min:"0",max:"1",placeholder:"l",onBlur:()=>i("hsl")},null),[[l.vModelText,u.value.hsl.l]])]),"rgb"===r.value&&l.createVNode("div",{class:"format-group"},[l.withDirectives(l.createVNode("input",{"onUpdate:modelValue":e=>u.value.rgb.r=e,type:"number",min:"0",max:"255",placeholder:"r",onBlur:()=>i("rgb")},null),[[l.vModelText,u.value.rgb.r]]),l.withDirectives(l.createVNode("input",{"onUpdate:modelValue":e=>u.value.rgb.g=e,type:"number",min:"0",max:"255",placeholder:"g",onBlur:()=>i("rgb")},null),[[l.vModelText,u.value.rgb.g]]),l.withDirectives(l.createVNode("input",{"onUpdate:modelValue":e=>u.value.rgb.b=e,type:"number",min:"0",max:"255",onBlur:()=>i("rgb"),placeholder:"b"},null),[[l.vModelText,u.value.rgb.b]])]),"hex"===r.value&&l.createVNode("div",{class:"format-group"},[l.withDirectives(l.createVNode("input",{"onUpdate:modelValue":e=>u.value.hex=e,type:"text",maxlength:"7",placeholder:"hex",onBlur:()=>i("hex")},null),[[l.vModelText,u.value.hex]])])])}}),w=l.defineComponent({name:"ChromeColorPicker",props:{color:{type:[String,Object],default:"#000000"},format:{type:String},disableAlpha:Boolean,disableLight:Boolean,disableHue:Boolean,disableHistory:Boolean,disableClipboard:Boolean,historyRound:Boolean},emits:["update:color","change"],setup(e,{emit:a}){const t=new d,o=l.ref(t.parseColor(e.color)),r=n.useStorage(),u=l.ref([]),s=()=>{u.value=u.value.filter((e=>e!==o.value.hex8)),u.value.length>=8&&u.value.shift(),u.value.push(o.value.hex8),r.setStorage({key:p,data:u.value})},i=()=>{u.value=r.getStorageSync(p)||[]},c=(e,a)=>{o.value=t.parseColor(e,a),h(s)},v=()=>{e.format?(a("update:color",t.format(e.format)),a("change",t.format(e.format))):(a("update:color",o.value),a("change",o.value))},g=e=>{c(e),v()},b=e=>{c({h:o.value.hsl.h,s:o.value.hsl.s,l:o.value.hsl.l,a:e,source:"alpha"},o.value.hsl.h),v()},m=(e,a)=>{c({h:o.value.hsv.h,s:e,v:a,a:o.value.hsv.a,source:"saturation"},o.value.hsv.h),v()},N=e=>{const{s:a,v:l,a:t}=o.value.hsv;c({h:e,s:a,v:l,a:t,source:"hue"},e),v()},x=e=>{o.value=e,v()};return l.watch((()=>e.color),(e=>{c(l.toRaw(e)),i()})),l.onMounted((()=>{i()})),()=>l.createVNode("div",{class:"bee-chrome-colorPicker"},[l.createVNode(y,{saturation:o.value.hsv.s,hue:o.value.hsv.h,value:o.value.hsv.v,onChange:m,round:!0,hidden:!0},null),l.createVNode("div",{class:"bee-chrome-colorPicker-body"},[l.createVNode("div",{class:"chrome-controls"},[l.createVNode("div",{class:"chrome-color-wrap transparent"},[l.createVNode("div",{class:"current-color",style:{background:o.value.hex8}},null)]),l.createVNode("div",{class:"chrome-sliders"},[!e.disableHue&&l.createVNode(f,{hue:o.value.hsv.h,onChange:N,size:"small"},null),!e.disableAlpha&&l.createVNode(V,{size:"small",color:o.value.hex8,onChange:b,alpha:o.value.alpha},null)])]),l.createVNode(k,{color:o.value,onChange:x},null),!e.disableHistory&&l.createVNode(C,{"color-list":u.value,round:e.historyRound,onChange:g},null)])])}}),M=l.defineComponent({name:"EleColorPicker",props:{color:{type:[String,Object],default:"#000000"},format:{type:String},disableAlpha:Boolean,disableLight:Boolean,disableHue:Boolean,disableHistory:Boolean,historyRound:{type:Boolean,default:!0}},emits:["update:color","change"],setup(e,{emit:a}){const t=new d,o=l.ref(t.parseColor(e.color)),r=n.useStorage(),u=l.ref([]),s=()=>{u.value=u.value.filter((e=>e!==o.value.hex8)),u.value.length>=8&&u.value.shift(),u.value.push(o.value.hex8),r.setStorage({key:p,data:u.value})},i=()=>{u.value=r.getStorageSync(p)||[]},c=(e,a)=>{o.value=t.parseColor(e,a),h(s)},v=()=>{e.format?(a("update:color",t.format(e.format)),a("change",t.format(e.format))):(a("update:color",o.value),a("change",o.value))},g=e=>{c(e),v()},b=e=>{c({h:o.value.hsl.h,s:o.value.hsl.s,l:o.value.hsl.l,a:e,source:"alpha"},o.value.hsl.h),v()},m=(e,a)=>{c({h:o.value.hsv.h,s:e,v:a,a:o.value.hsv.a,source:"saturation"},o.value.hsv.h),v()},N=e=>{const{s:a,v:l,a:t}=o.value.hsv;c({h:e,s:a,v:l,a:t,source:"hue"},e),v()},x=e=>{o.value=e,v()};return l.watch((()=>e.color),(e=>{c(l.toRaw(e)),i()})),l.onMounted((()=>{i()})),()=>l.createVNode("div",{class:"bee-ele-colorPicker"},[l.createVNode("div",{class:"bee-ele-row"},[l.createVNode(y,{class:"bee-ele-saturation",hidden:!0,saturation:o.value.hsv.s,hue:o.value.hsv.h,value:o.value.hsv.v,onChange:m},null),!e.disableHue&&l.createVNode(f,{class:"bee-ele-hue",vertical:!0,size:"small",hue:o.value.hsv.h,onChange:N},null)]),!e.disableAlpha&&l.createVNode(V,{style:"width: 257px",color:o.value.hex8,onChange:b,alpha:o.value.alpha},null),l.createVNode(k,{style:"width: 257px",color:o.value,onChange:x},null),!e.disableHistory&&l.createVNode(C,{"color-list":u.value,round:e.historyRound,onChange:g},null)])}}),P=l.defineComponent({name:"PopuColorPicker",components:{FkColorPicker:x},props:{color:{type:[String,Object],default:"#000000"},round:{type:Boolean},mode:{type:String,default:"fk"},pickerProps:{type:Object,default:()=>({})}},emits:["update:color","change"],setup(e,{emit:a}){const t=l.ref(!1),o=l.ref(null),r=l.ref(null),n=l.ref(e.color),s=l.computed((()=>{const e=new d;return e.parseColor(n.value),{background:e.format("hex8")}})),i=()=>{t.value=!0},c=()=>{t.value=!1},v=()=>{a("update:color",n.value),a("change",n.value)};return l.watch((()=>e.color),(e=>{n.value=e})),l.onMounted((()=>{o.value&&r.value&&u.createPopper(o.value,r.value,{placement:"auto",modifiers:[{name:"flip",options:{fallbackPlacements:["top","left"]}}]})})),()=>{const a=["bee-color-wrap transparent",{round:e.round}];return l.createVNode(l.Fragment,null,[l.createVNode("div",{class:a,ref:o},[l.createVNode("div",{class:"current-color",style:s.value,onClick:i},null)]),l.createVNode(l.Teleport,{to:"body"},{default:()=>[l.createVNode("div",{ref:r,class:"data-popper-arrow"},["fk"===e.mode&&t.value&&l.withDirectives(l.createVNode(x,l.mergeProps({color:n.value,"onUpdate:color":e=>n.value=e,onChange:v},__spreadValues({},e.pickerProps)),null),[[l.resolveDirective("click-outside"),c]]),"ele"===e.mode&&t.value&&l.withDirectives(l.createVNode(M,l.mergeProps({color:n.value,"onUpdate:color":e=>n.value=e,onChange:v},__spreadValues({},e.pickerProps)),null),[[l.resolveDirective("click-outside"),c]]),"chrome"===e.mode&&t.value&&l.withDirectives(l.createVNode(w,l.mergeProps({color:n.value,"onUpdate:color":e=>n.value=e,onChange:v},__spreadValues({},e.pickerProps)),null),[[l.resolveDirective("click-outside"),c]])])]})])}}});const B=[x,P,w,M],S={install:e=>{e.use(a.ClickOutside),e.use(v.default),B.forEach((a=>{e.component(a.name,a)}))}};e.ChromeColorPicker=w,e.EleColorPicker=M,e.FkColorPicker=x,e.PopuColorPicker=P,e.default=S,Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
